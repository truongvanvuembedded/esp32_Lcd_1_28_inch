//==================================================================================================
//
//	File Name		 : UI.c
//	CPU Type			: ESP32-C3
//	Project Name		: ESP32_C3_LCD_128Inch
//
//	Description		 : UI driver for ESP32-C3 with 1.28 inch LCD using LVGL
//
//	History			 : Ver.0.01		2024.11.27 V.Vu	 New
//
//==================================================================================================
//==================================================================================================
//	Compile Option
//==================================================================================================

//==================================================================================================
//	#pragma section
//==================================================================================================

//==================================================================================================
//	Local Compile Option
//==================================================================================================

//==================================================================================================
//	Header File
//==================================================================================================
#include <stdio.h>

#include "esp_log.h"
#include "freertos/FreeRTOS.h"
#include "freertos/task.h"
#include "freertos/queue.h"
#include "esp_timer.h"

#include "CS816D.h"
#include "GC9A01.h"
#include "Display.h"
#include "Define.h"
#ifndef REAL_RAM
#define REAL_RAM
#include "RamDef.h"
#endif
#include "Wifi_Scan.h"
//==================================================================================================
//	Local define
//==================================================================================================

//==================================================================================================
//	Local define I/O
//==================================================================================================

//==================================================================================================
//	Local Struct Template
//==================================================================================================

//==================================================================================================
//	Local RAM 
//==================================================================================================

//==================================================================================================
//	Local ROM
//==================================================================================================
//static const char *TAG = "main.c";
//==================================================================================================
//	Local Function Prototype
//==================================================================================================

//==================================================================================================
//	Source Code
//==================================================================================================
////////////////////////////////////////////////////////////////////////////////////////////////////
//
//	Tag:			main
//	Name:			app_main
//	Function:		Main function for ESP32-C3 application
//
//	Argument:		-
//	Return value:	-
//	Create:			2024.11.27 V.Vu	 New
//	Change:			-
//	Remarks:		-
//
////////////////////////////////////////////////////////////////////////////////////////////////////
void UI_task(void *pvParameters)
{
	UI_Init();		// Init UI
	while (1)
	{
		UI_Job();
		vTaskDelay(10);
	}
}
void Wifi_task(void *pvParameters)
{
	Init_WifiScan();      // Init WiFi scan
	while (1)
	{
		WifiScan_Job(); // Perform WiFi scan job
		vTaskDelay(10);
	}
}
void app_main(void)
{
	GC9A01_Init();    // Init LCD driver
	CS816D_Init();    // Init touch driver
	xTaskCreatePinnedToCore(Wifi_task, "Wifi_task", 4096, NULL, 3, NULL, 0);
	xTaskCreatePinnedToCore(UI_task, "UI_Job_Task", 8192, NULL, 5, NULL, 0);
}